# 배열

- 배열이란 동일한 메모리 공간을 연속적으로 확보하고 확보한 선두 메모리 공간의 주소를 기억한다. 즉, 같은 데이터 타입의 값을 배열에 할당하며 이를 밀집 배열이라 한다.
  배열은 연속적으로 이후 요소들에 인덱스로 접근하기 때문에 아주 빠르다는 장점이 있지만 요소의 추가나 삭제 시 복잡하다는 단점이 있다

- 자바스크립트의 배열은 객체이다. 즉, 자바스크립트에서 허용하는 모든 값이 배열에 할당 가능하며 때문에 데이터 타입이 일치하지 않을 수 있기 때문에 같은 메모리 공간을 확보하지 않는다. 자바스크립트의 배열은 앞에서와 같은 특성을 지니기 때문에 유사배열 객체라 한다

- 배열의 요소가 연속적으로 이어지지 않는 배열을 희소 배열이라 하며, 자바스크립트에서는 희소 배열을 허용한다

```js
// 희소 배열
const arr = [1, , 3];
console.log(arr.length); // 3
```

- 가급적 희소 배열을 피하고 요소의 타입또한 일치시키는것이 좋다

## 4. 배열 생성

- 배열 리터럴

```js
const arr = [1, 2, 3];
console.log(arr.length); // 3
```

- 생성자 함수

```js
// 전달된 인수가 한개이고 숫자일 경우
const arr = new Array(10);
console.log(arr); // [empty * 10]
console.log(arr.length); // 10
// 전달된 인수가 2개 이상이거나 숫자가 아닐 경우
new Array(1, 2, 3); // [1, 2, 3]
new Array({}); // [{}]
```

- Array.of

```js
Array.of(1); // [1]
Array.of("string"); // ['string']
```

- Array.from

```js
Array.from({ length: 2, 0: "a", 1: "b" }); // ['a', 'b']
Array.from("Hello"); // ['H', 'e', 'l', 'l', 'o']
```

## 5. 배열 요소의 참조

- 배열의 요소를 참조할 때는 대괄호([]) 표기법을 사용한다

- 존재하지 않는 요소에 접근하면 undefined가 반환된다

```js
const arr = [1, 2];

console.log(arr[0]); // 1
console.log(arr[2]); // undefined
```

## 6. 배열 요소의 추가와 갱신

- 존재하지 않는 인덱스를 사용해 값을 할당하면 새로운 요소가 추가되며, length 프로퍼티 값은 자동 갱신된다

```js
const arr = [0];

// 배열 요소의 추가
arr[1] = 1;

console.log(arr); // [0, 1]
console.log(arr.length); // 2

// 배열 요소의 갱신
arr[0] = 10;

console.log(arr); // [10, 1]
```

## 7. 배열 요소의 삭제

- 배열의 특정 요소를 삭제하기 위해 delete 연산자를 사용할 수 있다

```js
const arr = [1, 2, 3];

// 배열 요소의 삭제
delete arr[1];
console.log(arr); // [1, empty, 3]

// length 프로퍼티에 영향을 주지 않는다. 즉, 희소 배열이 된다
console.log(arr.length); // 3
```

- delete 요소를 제거한 배열은 희소 배열을 만들기 때문에 `Array.prototype.splice` 메서드를 사용하면 희소 배열을 만들지 않으면서 배열의 특정 요소를 완전히 삭제할 수 있다

```js
const arr = [1, 2, 3];

// Array.prototype.splice(삭제를 시작할 인덱스, 삭제할 요소 수)
// arr[1]부터 1개의 요소를 제거
arr.splice(1, 1);
console.log(arr); // [1, 3]

// length 프로퍼티가 자동 갱신된다
console.log(arr.length); // 2
```

## 9. 배열 고차 함수

- 고차 함수는 함수를 인수로 전달받거나 함수를 반환하는 함수를 말한다
- 고차 함수는 외부 상태의 변경이나 가변(mutable)을 피하고 **불변성(immutability)** 을 지향하는 함수형 프로그래밍에 기반을 둔다
- 함수형 프로그래밍은 순수 함수를 통해 부수 효과를 최대한 억제하여 오류를 피하고 안정성을 높이려는 노력의 일환이다

### 9-1. Array.prototype.sort

- sort 메서드는 배열의 요소를 정렬한다
- 원본 배열을 직접 변경하며 정렬된 배열을 반환한다
- 기본적으로 오름차순으로 요소를 정렬한다
- 내림차순으로 정렬하기 위해서는 sort 메서드와 reverse 메서드를 같이 사용할 수 있다
- 유니코드 순서에 따라 정렬한다
- 숫자를 정렬하기 위해서는 정렬 순서를 정의하는 비교 함수를 인수로 전달해야 한다

### 9-2. Array.prototype.forEach

- forEach 메서드는 자신을 호출한 배열의 모든 요소를 순회하면서 인수로 전달받은 콜백 함수를 반복 호출한다
- forEach 메서드의 두 번째 인수로 forEach 메서드의 콜백 함수 내부에서 this로 사용할 객체를 전달할 수 있다
- 원본 배열을 변경하지 않지만 콜백 함수를 통해 원본 배열을 변경할 수 있다
- **반환값은 언제나 undefined 이다**
- break, continue 문을 사용할 수 없다. 즉 배열의 모든 요소를 빠짐없이 모두 순회하며 중간에 중단할 수 없다
- 희소 배열은 존재하지 않는 요소는 순회 대상에서 제외된다
- forEach 메서드는 콜백 함수를 호출할 때 3개의 인수(v(forEach 메서드를 호출한 배열의 요소값), i(forEach 메서드를 호출한 배열의 인덱스), arr(forEach 메서드를 호출한 배열(this))를 순차적으로 전달한다

### 9-3. Array.prototype.map

- map 메서드는 자신을 호출한 배열의 모든 요소를 순회하면서 인수로 전달받은 콜백 함수를 반복 호출한다
- map 메서드의 두 번째 인수로 map 메서드의 콜백 함수 내부에서 this로 사용할 객체를 전달할 수 있다
- 원본 배열을 변경하지 않는다
- **콜백 함수의 반환값들로 구성된 새로운 배열을 반환한다**
- map 메서드가 반환하는 새로운 배열의 length 프로퍼티 값은 map 메서드를 호출한 배열의 length 프로퍼티 값과 반드시 일치한다. 즉 메서드를 호출한 배열과 반환한 배열은 1:1매핑(mapping)한다
- map 메서드는 콜백 함수를 호출할 때 3개의 인수(map 메서드를 호출한 배열의 요소값, 인덱스, map 메서드를 호출한 배열(this))를 순차적으로 전달한다

### 9-4. Array.prototype.filter

- filter 메서드는 자신을 호출한 배열의 모든 요소를 순회하면서 인수로 전달받은 콜백 함수를 반복 호출한다
- filter 메서드의 두 번째 인수로 filter 메서드의 콜백 함수 내부에서 this로 사용할 객체를 전달할 수 있다
- 원본 배열을 변경하지 않는다
- **콜백 함수의 반환값이 true인 요소로만 구성된 새로운 배열을 반환한다**
- filter 메서드가 생성하여 반환한 새로운 배열의 length 프로퍼티 값은 filter 메서드를 호출한 배열의 length 프로퍼티 값과 같거나 작다
- filter 메서드는 콜백 함수를 호출할 때 3개의 인수(filter 메서드를 호출한 배열의 요소값, 인덱스, filter 메서드를 호출한 배열(this))를 순차적으로 전달한다

### 9-5. Array.prototype.reduce

- reduce 메서드는 자신을 호출한 배열의 모든 요소를 순회하면서 **인수로 전달받은 콜백 함수를 반복 호출하고 콜백 함수의 반환값을 다음 순회 시에 콜백 함수의 첫 번째 인수로 전달하면서 콜백함수를 호출하여 하나의 결과값을 만들어 반환한다**
- 원본 배열을 변경하지 않는다
- reduce 메서드는 첫 번째 인수로 콜백 함수, 두 번째 인수로 초기값을 전달받는다
- 초기값은 생략 가능한 옵션이지만 생략하지 않는것이 안전하다
- reduce 메서드는 콜백 함수를 호출할 때 4개의 인수(초기값 또는 콜백함수의 이전 반환값, reduce 메서드를 호출한 배열의 요소값, 인덱스, reduce 메서드를 호출한 배열 자체(this))를 순차적으로 전달한다

### 9-6. Array.prototype.some

- some 메서드는 자신을 호출한 배열의 모든 요소를 순회하면서 인수로 전달된 콜백 함수를 반복 호출한다
- some 메서드의 두 번째 인수로 some 메서드의 콜백 함수 내부에서 this로 사용할 객체를 전달할 수 있다
- **some 메서드는 콜백 함수의 반환값이 한 번이라도 참이면 true, 모두 거짓이면 false를 반환한다**
- some 메서드를 호출한 배열이 빈 배열일 경우 언제나 false를 반환한다
- some 메서드는 콜백 함수를 호출할 때 3개의 인수(filter 메서드를 호출한 배열의 요소값, 인덱스, some 메서드를 호출한 배열(this))를 순차적으로 전달한다

### 9-7. Array.prototype.every

- every 메서드는 자신을 호출한 배열의 모든 요소를 순회하면서 인수로 전달된 콜백 함수를 반복 호출한다
- every 메서드의 두 번째 인수로 every 메서드의 콜백 함수 내부에서 this로 사용할 객체를 전달할 수 있다
- **every 메서드는 콜백 함수의 반환값이 모두 참이면 true, 한 번이라도 거짓이면 false를 반환한다**
- every 메서드를 호출한 배열이 빈 배열일 경우 언제나 true를 반환한다
- every 메서드는 콜백 함수를 호출할 때 3개의 인수(filter 메서드를 호출한 배열의 요소값, 인덱스, every 메서드를 호출한 배열(this))를 순차적으로 전달한다

### 9-8. Array.prototype.find

- find 메서드는 자신을 호출한 배열의 모든 요소를 순회하면서 인수로 전달된 콜백 함수를 반복 호출한다
- find 메서드의 두 번째 인수로 find 메서드의 콜백 함수 내부에서 this로 사용할 객체를 전달할 수 있다
- **find 메서드는 콜백 함수를 호출하여 반환값이 true인 첫 번째 요소를 반환한다. 콜백 함수의 반환값이 true인 요소가 존재하지 않는다면 undefined를 반환한다**
- find 메서드는 콜백 함수를 호출할 때 3개의 인수(filter 메서드를 호출한 배열의 요소값, 인덱스, find 메서드를 호출한 배열(this))를 순차적으로 전달한다

### 9-9. Array.prototype.findIndex

- findIndex 메서드는 자신을 호출한 배열의 모든 요소를 순회하면서 인수로 전달된 콜백 함수를 반복 호출한다
- findIndex 메서드의 두 번째 인수로 findIndex 콜백 함수 내부에서 this로 사용할 객체를 전달할 수 있다
- **콜백 함수의 반환값이 true인 첫 번째 요소의 인덱스를 반환한다. 콜백 함수의 반환값이 true인 요소가 존재하지 않는다면 -1을 반환한다**
- findIndex 메서드는 콜백 함수를 호출할 때 3개의 인수(filter 메서드를 호출한 배열의 요소값, 인덱스, findIndex 메서드를 호출한 배열(this))를 순차적으로 전달한다

### 9-10. Array.prototype.flatMap

- flatMap 메서드는 map 메서드를 통해 생성된 새로운 배열을 평탄화 한다. 즉 map 메서드와 flat 메서드를 순차적으로 실행하는 효과가 있다
- flatMap 메서드는 평탄화 깊이를 지정할 수는 없고 1단계만 평탄화한다

출처 : https://poiemaweb.com/
